<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–∏–ª—å - –ú–ë–û–£ –°–û–® ‚Ññ19</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .admin-panel {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 1rem;
            overflow-x: auto;
        }
        .users-table, .feedbacks-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            min-width: 800px;
        }
        .users-table th, .users-table td,
        .feedbacks-table th, .feedbacks-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
            font-size: 14px;
        }
        .users-table th, .feedbacks-table th {
            background: #2c3e50;
            color: white;
            position: sticky;
            top: 0;
        }
        .role-badge, .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            white-space: nowrap;
        }
        .role-admin { background: #e74c3c; color: white; }
        .role-teacher { background: #3498db; color: white; }
        .role-student { background: #27ae60; color: white; }
        .role-parent { background: #f39c12; color: white; }
        .status-new { background: #3498db; color: white; }
        .status-read { background: #95a5a6; color: white; }
        .status-answered { background: #27ae60; color: white; }
        .btn-danger {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin: 2px;
            font-size: 12px;
        }
        .btn-success {
            background: #27ae60;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin: 2px;
            font-size: 12px;
        }
        .feedback-message {
            max-width: 200px;
            word-wrap: break-word;
            font-size: 13px;
        }
        .tab-buttons {
            display: flex;
            gap: 5px;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        .tab-button {
            padding: 8px 15px;
            border: none;
            background: #ecf0f1;
            cursor: pointer;
            border-radius: 5px;
            font-size: 14px;
            white-space: nowrap;
        }
        .tab-button.active {
            background: #3498db;
            color: white;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .table-container {
            overflow-x: auto;
            margin: 1rem 0;
        }
        .stats {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-size: 14px;
        }
        @media (max-width: 768px) {
            .admin-panel {
                padding: 1rem;
                margin: 0.5rem;
            }
            .tab-button {
                padding: 6px 10px;
                font-size: 12px;
            }
            .users-table th, .users-table td,
            .feedbacks-table th, .feedbacks-table td {
                padding: 6px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <span>üè´ –ú–ë–û–£ –°–û–® ‚Ññ19 –≥. –ë–µ–ª–æ–≤–æ</span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="news.html">–ù–æ–≤–æ—Å—Ç–∏</a></li>
                <li><a href="schedule.html">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a></li>
                <li><a href="structure.html">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</a></li>
                <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                <li><a href="feedback.html">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a></li>
            </ul>
            <div class="auth-section">
                <div id="auth-buttons" class="auth-buttons">
                    <a href="login.html" class="btn-login">–í–æ–π—Ç–∏</a>
                    <a href="register.html" class="btn-register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>
                <div id="user-menu" class="user-menu" style="display: none;">
                    <a href="profile.html" class="btn-profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
                    <button onclick="logout()" class="btn-logout">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            <h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>

            <div class="profile-card">
                <h2>üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h2>
                <div id="profile-info" class="profile-info">
                    <p><strong>–§–ò–û:</strong> <span id="profile-name">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
                    <p><strong>Email:</strong> <span id="profile-email">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
                    <p><strong>–†–æ–ª—å:</strong> <span id="profile-role">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
                    <p><strong>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> <span id="profile-date">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
                    <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="profile-status">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
                </div>

                <div id="admin-features" class="role-section" style="display: none;">
                    <h3>‚öôÔ∏è –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>

                    <div class="tab-buttons">
                        <button class="tab-button active" onclick="showTab('users-tab')">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
                        <button class="tab-button" onclick="showTab('feedbacks-tab')">üí¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</button>
                        <button class="tab-button" onclick="showTab('schedule-tab')">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                    </div>

                    <div id="users-tab" class="tab-content active">
                        <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h4>
                        <div class="stats" id="users-stats">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="table-container">
                            <div id="users-list">
                                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</p>
                            </div>
                        </div>
                    </div>

                    <div id="feedbacks-tab" class="tab-content">
                        <h4>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h4>
                        <div class="stats" id="feedbacks-stats">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="table-container">
                            <div id="feedbacks-list">
                                <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏–π...</p>
                            </div>
                        </div>
                    </div>

                    <div id="schedule-tab" class="tab-content">
                        <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º</h4>
                        <div class="stats">
                            <p>üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏</p>
                        </div>
                        <button class="btn-primary" onclick="alert('–§—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                    </div>
                </div>

                <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏ -->
                <div id="teacher-features" class="role-section" style="display: none;">
                    <h3>üë®‚Äçüè´ –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</h3>
                    <div class="teacher-actions">
                        <button class="btn-primary" onclick="viewGrades()">üìù –ñ—É—Ä–Ω–∞–ª —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</button>
                        <button class="btn-primary" onclick="addHomework()">üìö –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
                        <button class="btn-primary" onclick="viewStudents()">üë• –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏</button>
                    </div>
                </div>

                <div id="student-features" class="role-section" style="display: none;">
                    <h3>üéí –§—É–Ω–∫—Ü–∏–∏ —É—á–µ–Ω–∏–∫–∞</h3>
                    <div class="student-actions">
                        <button class="btn-primary" onclick="viewMyGrades()">üéì –ú–æ–∏ –æ—Ü–µ–Ω–∫–∏</button>
                        <button class="btn-primary" onclick="viewHomework()">üìñ –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</button>
                        <button class="btn-primary" onclick="viewSchedule()">‚è∞ –ú–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                    </div>
                </div>

                <div id="parent-features" class="role-section" style="display: none;">
                    <h3>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –§—É–Ω–∫—Ü–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—è</h3>
                    <div class="parent-actions">
                        <button class="btn-primary" onclick="viewChildGrades()">üìä –£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å —Ä–µ–±–µ–Ω–∫–∞</button>
                        <button class="btn-primary" onclick="viewAttendance()">üìÖ –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</button>
                        <button class="btn-primary" onclick="contactTeacher()">üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å —É—á–∏—Ç–µ–ª–µ–º</button>
                    </div>
                </div>

                <div class="text-center" style="margin-top: 2rem;">
                    <button onclick="logout()" class="btn-logout">üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>–ú–ë–û–£ –°–û–® ‚Ññ19 –≥. –ë–µ–ª–æ–≤–æ</h3>
                    <p>652645, –ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª., –≥. –ë–µ–ª–æ–≤–æ, –ø–≥—Ç. –ù–æ–≤—ã–π –ì–æ—Ä–æ–¥–æ–∫, —É–ª. –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∞—è, 16</p>
                    <p>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (38452) 6-85-41</p>
                    <p>Email: school19-belovo@mail.ru</p>
                    <p>–î–∏—Ä–µ–∫—Ç–æ—Ä: –†—É–∑–∞–Ω–∫–∏–Ω–∞ –¢–∞—Ç—å—è–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞</p>
                </div>
                <div class="footer-links">
                    <h3>–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏</h3>
                    <ul>
                        <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="structure.html">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∫–æ–ª—ã</a></li>
                        <li><a href="schedule.html">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a></li>
                        <li><a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </div>
                <div class="footer-structure">
                    <h3>–ù–∞—à–∏ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è</h3>
                    <ul>
                        <li>üè´ –ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞ (–º–ª.19)</li>
                        <li>üè´ –°—Ä–µ–¥–Ω—è—è —à–∫–æ–ª–∞ (—Å—Ä.27)</li>
                        <li>üè´ –°—Ç–∞—Ä—à–∞—è —à–∫–æ–ª–∞ (—Å—Ç.38)</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 –ú–ë–û–£ "–°—Ä–µ–¥–Ω—è—è –æ–±—â–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —à–∫–æ–ª–∞ ‚Ññ19 –≥–æ—Ä–æ–¥–∞ –ë–µ–ª–æ–≤–æ". –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script>
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            if (tabName === 'users-tab') loadUsers();
            else if (tabName === 'feedbacks-tab') loadFeedbacks();
        }

        function loadUsers() {
            const users = JSON.parse(localStorage.getItem('school_users')) || [];
            const usersList = document.getElementById('users-list');
            const usersStats = document.getElementById('users-stats');

            const stats = {
                total: users.length,
                admins: users.filter(u => u.role === 'admin').length,
                teachers: users.filter(u => u.role === 'teacher').length,
                students: users.filter(u => u.role === 'student').length,
                parents: users.filter(u => u.role === 'parent').length
            };

            usersStats.innerHTML = `üë• –í—Å–µ–≥–æ: ${stats.total} | ‚öôÔ∏è –ê–¥–º–∏–Ω—ã: ${stats.admins} | üë®‚Äçüè´ –£—á–∏—Ç–µ–ª—è: ${stats.teachers} | üéí –£—á–µ–Ω–∏–∫–∏: ${stats.students} | üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –†–æ–¥–∏—Ç–µ–ª–∏: ${stats.parents}`;

            if (users.length === 0) {
                usersList.innerHTML = '<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }

            let html = `<table class="users-table">
                <thead><tr>
                    <th>ID</th><th>–§–ò–û</th><th>Email</th><th>–†–æ–ª—å</th><th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th><th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr></thead><tbody>`;

            users.forEach(user => {
                const roleClass = `role-${user.role}`;
                html += `<tr>
                    <td>${user.id}</td>
                    <td><strong>${user.name}</strong></td>
                    <td>${user.email}</td>
                    <td><span class="role-badge ${roleClass}">${getRoleText(user.role)}</span></td>
                    <td>${new Date(user.registeredAt).toLocaleDateString('ru-RU')}</td>
                    <td>${user.role !== 'admin' ?
                        `<button class="btn-danger" onclick="deleteUser(${user.id})" title="–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>` :
                        '<em>–°–∏—Å—Ç–µ–º–Ω—ã–π</em>'}</td>
                </tr>`;
            });

            html += `</tbody></table>`;
            usersList.innerHTML = html;
        }

        function loadFeedbacks() {
            const feedbacks = JSON.parse(localStorage.getItem('school_feedbacks')) || [];
            const feedbacksList = document.getElementById('feedbacks-list');
            const feedbacksStats = document.getElementById('feedbacks-stats');

            const stats = {
                total: feedbacks.length,
                new: feedbacks.filter(f => f.status === 'new' || !f.status).length,
                answered: feedbacks.filter(f => f.status === 'answered').length
            };

            feedbacksStats.innerHTML = `üí¨ –í—Å–µ–≥–æ: ${stats.total} | üîµ –ù–æ–≤—ã–µ: ${stats.new} | ‚úÖ –û—Ç–≤–µ—á–µ–Ω–æ: ${stats.answered}`;

            if (feedbacks.length === 0) {
                feedbacksList.innerHTML = '<p>–û–±—Ä–∞—â–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>';
                return;
            }

            let html = `<table class="feedbacks-table">
                <thead><tr>
                    <th>ID</th><th>–û—Ç –∫–æ–≥–æ</th><th>–¢–µ–º–∞</th><th>–°–æ–æ–±—â–µ–Ω–∏–µ</th><th>–î–∞—Ç–∞</th><th>–°—Ç–∞—Ç—É—Å</th><th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr></thead><tbody>`;

            feedbacks.forEach(feedback => {
                const statusClass = `status-${feedback.status || 'new'}`;
                html += `<tr>
                    <td>${feedback.id}</td>
                    <td><strong>${feedback.name}</strong><br><small>${feedback.email}</small></td>
                    <td>${getFeedbackTypeText(feedback.type)}</td>
                    <td class="feedback-message" title="${feedback.message}">${feedback.message.substring(0, 50)}${feedback.message.length > 50 ? '...' : ''}</td>
                    <td>${new Date(feedback.date).toLocaleDateString('ru-RU')}</td>
                    <td><span class="status-badge ${statusClass}">${getStatusText(feedback.status)}</span></td>
                    <td>
                        <button class="btn-success" onclick="answerFeedback(${feedback.id})" title="–û—Ç–≤–µ—Ç–∏—Ç—å">‚úâÔ∏è –û—Ç–≤–µ—Ç–∏—Ç—å</button>
                        <button class="btn-danger" onclick="deleteFeedback(${feedback.id})" title="–£–¥–∞–ª–∏—Ç—å">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                </tr>`;
            });

            html += `</tbody></table>`;
            feedbacksList.innerHTML = html;
        }

        function getFeedbackTypeText(type) {
            const types = {
                'question': '‚ùì –í–æ–ø—Ä–æ—Å', 'suggestion': 'üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ',
                'complaint': '‚ö†Ô∏è –ñ–∞–ª–æ–±–∞', 'praise': '‚≠ê –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å', 'other': 'üìÑ –î—Ä—É–≥–æ–µ'
            };
            return types[type] || type;
        }

        function getStatusText(status) {
            const statuses = {'new': '–ù–æ–≤–æ–µ', 'read': '–ü—Ä–æ—á–∏—Ç–∞–Ω–æ', 'answered': '–û—Ç–≤–µ—á–µ–Ω–æ'};
            return statuses[status] || '–ù–æ–≤–æ–µ';
        }

        function deleteUser(userId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) {
                let users = JSON.parse(localStorage.getItem('school_users')) || [];
                users = users.filter(user => user.id !== userId);
                localStorage.setItem('school_users', JSON.stringify(users));
                loadUsers();
            }
        }

        function deleteFeedback(feedbackId) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏–µ?')) {
                let feedbacks = JSON.parse(localStorage.getItem('school_feedbacks')) || [];
                feedbacks = feedbacks.filter(fb => fb.id !== feedbackId);
                localStorage.setItem('school_feedbacks', JSON.stringify(feedbacks));
                loadFeedbacks();
            }
        }

        function answerFeedback(feedbackId) {
            const response = prompt('–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏–µ:');
            if (response) {
                let feedbacks = JSON.parse(localStorage.getItem('school_feedbacks')) || [];
                const feedback = feedbacks.find(fb => fb.id === feedbackId);
                if (feedback) {
                    feedback.adminResponse = response;
                    feedback.status = 'answered';
                    localStorage.setItem('school_feedbacks', JSON.stringify(feedbacks));
                    loadFeedbacks();
                    alert('‚úÖ –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω');
                }
            }
        }

        function loadProfile() {
            const user = JSON.parse(localStorage.getItem('current_user'));
            if (!user) { window.location.href = 'login.html'; return; }

            document.getElementById('profile-name').textContent = user.name;
            document.getElementById('profile-email').textContent = user.email;
            document.getElementById('profile-role').textContent = getRoleText(user.role);
            document.getElementById('profile-date').textContent = new Date(user.registeredAt).toLocaleDateString('ru-RU');
            document.getElementById('profile-status').textContent = '‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–π';

            document.querySelectorAll('.role-section').forEach(el => el.style.display = 'none');

            if (user.role === 'admin') {
                document.getElementById('admin-features').style.display = 'block';
                loadUsers();
            } else if (user.role === 'teacher') {
                document.getElementById('teacher-features').style.display = 'block';
            } else if (user.role === 'student') {
                document.getElementById('student-features').style.display = 'block';
            } else if (user.role === 'parent') {
                document.getElementById('parent-features').style.display = 'block';
            }

            updateHeader();
        }

        function getRoleText(role) {
            const roles = {
                'student': 'üéí –£—á–µ–Ω–∏–∫', 'parent': 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –†–æ–¥–∏—Ç–µ–ª—å',
                'teacher': 'üë®‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å', 'admin': '‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä'
            };
            return roles[role] || role;
        }

        function updateHeader() {
            const user = JSON.parse(localStorage.getItem('current_user'));
            const authButtons = document.getElementById('auth-buttons');
            const userMenu = document.getElementById('user-menu');

            if (user && authButtons && userMenu) {
                authButtons.style.display = 'none';
                userMenu.style.display = 'flex';
            }
        }

        function logout() {
            localStorage.removeItem('current_user');
            window.location.href = 'index.html';
        }

        // –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–æ–ª–µ–π
        function viewGrades() { alert('üìù –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∂—É—Ä–Ω–∞–ª —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏'); }
        function addHomework() { alert('üìö –ó–¥–µ—Å—å –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è'); }
        function viewStudents() { alert('üë• –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤'); }
        function viewMyGrades() { alert('üéì –ó–¥–µ—Å—å –±—É–¥—É—Ç –≤–∞—à–∏ –æ—Ü–µ–Ω–∫–∏'); }
        function viewHomework() { alert('üìñ –ó–¥–µ—Å—å –±—É–¥—É—Ç –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è'); }
        function viewSchedule() { alert('‚è∞ –ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤–∞—à–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ'); }
        function viewChildGrades() { alert('üìä –ó–¥–µ—Å—å –±—É–¥–µ—Ç —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å —Ä–µ–±–µ–Ω–∫–∞'); }
        function viewAttendance() { alert('üìÖ –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å'); }
        function contactTeacher() { alert('üìû –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–≤—è–∑—å —Å —É—á–∏—Ç–µ–ª–µ–º'); }

        document.addEventListener('DOMContentLoaded', loadProfile);
    </script>
</body>
</html>
